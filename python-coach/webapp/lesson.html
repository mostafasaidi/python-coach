<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏุฑุณ ูพุงุชูู</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/lesson.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- ุงุถุงูู ฺฉู ุจุนุฏ ุงุฒ font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>

</head>

<body>
    <div class="app-container">
        <!-- ูุฏุฑ -->
        <div class="lesson-header">
            <div class="lesson-header-top">
                <button class="back-btn" onclick="window.history.back()">
                    <i class="fas fa-arrow-right"></i>
                </button>
                <div class="lesson-info">
                    <div class="breadcrumb" id="breadcrumb">
                        <span id="chapter-title">ูุตู ฑ</span> / <span id="lesson-number">ุฏุฑุณ ฑ</span>
                    </div>
                    <h1 id="lesson-title">ุนููุงู ุฏุฑุณ</h1>
                </div>
                <button class="complete-btn" id="complete-btn">
                    <i class="far fa-check-circle"></i>
                    <span>ุชฺฉูู ุฏุฑุณ</span>
                </button>
            </div>

            <div class="lesson-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="lesson-progress-fill" style="width: 20%"></div>
                </div>
                <div class="progress-labels">
                    <span>ูพุดุฑูุช ูุทุงูุนู</span>
                    <span id="progress-text">20%</span>
                </div>
            </div>
        </div>

        <!-- ูุญุชูุง ุงุตู -->
        <div class="lesson-content">
            <!-- ุจุฎุด ุชุฆูุฑ -->
            <div class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-book"></i>
                    <span>ุชุฆูุฑ ุฏุฑุณ</span>
                </h2>
                <div class="lesson-text" id="theory-content">
                    <p>ุฏุฑ ุงู ุฏุฑุณ ุจุง ููุงูู ูพุงู ูพุงุชูู ุขุดูุง ูโุดูุฏ...</p>

                    <h3>ูฺฺฏโูุง ูพุงุชูู:</h3>
                    <ul>
                        <li><strong>ุณุงุฏู ู ุฎูุงูุง:</strong> ูุญู (syntax) ุณุงุฏูโุง ุฏุงุฑุฏ</li>
                        <li><strong>ููุณุฑ:</strong> ูุงุฒ ุจู ฺฉุงููพุงู ูุฏุงุฑุฏ</li>
                        <li><strong>ฺูุฏููุธูุฑู:</strong> ุจุฑุง ูุจุ ุฏุงุฏูุ ููุด ูุตููุน</li>
                        <li><strong>ฺฉุชุงุจุฎุงููโูุง ุบู:</strong> ูุฒุงุฑุงู ฺฉุชุงุจุฎุงูู ุฑุงฺฏุงู</li>
                    </ul>

                    <p>ูพุงุชูู ุจุฑุง ุดุฑูุน ุจุฑูุงููโููุณ ุจุณุงุฑ ููุงุณุจ ุงุณุช.</p>
                </div>
            </div>

            <!-- ูุซุงูโูุง ฺฉุฏ -->
            <div class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-code"></i>
                    <span>ูุซุงูโูุง ฺฉุฏ</span>
                </h2>

                <div class="examples-grid">
                    <!-- ูุซุงู ฑ -->
                    <div class="example-card">
                        <div class="example-title">
                            <i class="fas fa-play-circle"></i>
                            <span>ุจุฑูุงูู ุงูู: ุณูุงู ุฏูุง</span>
                        </div>
                        <div class="code-block">
                            <div class="code-header">
                                <span>python</span>
                                <button class="copy-code-btn">
                                    <i class="fas fa-copy"></i> ฺฉูพ
                                </button>
                            </div>
                            <pre><code># ุงููู ุจุฑูุงูู ูพุงุชูู
print("ุณูุงู ุฏูุง!")
print("ุฎูุด ุขูุฏุฏ ุจู ุขููุฒุด ูพุงุชูู")</code></pre>
                        </div>
                    </div>

                    <!-- ูุซุงู ฒ -->
                    <div class="example-card">
                        <div class="example-title">
                            <i class="fas fa-calculator"></i>
                            <span>ูุชุบุฑูุง ู ูุญุงุณุจุงุช</span>
                        </div>
                        <div class="code-block">
                            <div class="code-header">
                                <span>python</span>
                                <button class="copy-code-btn">
                                    <i class="fas fa-copy"></i> ฺฉูพ
                                </button>
                            </div>
                            <pre><code># ุชุนุฑู ูุชุบุฑูุง
name = "ุนู"
age = 25

# ูุญุงุณุจุงุช
x = 10
y = 20
sum = x + y

print(f"ูุงู: {name}")
print(f"ุณู: {age}")
print(f"ูุฌููุน: {sum}")</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุชูุฑูโูุง -->
            <div class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-dumbbell"></i>
                    <span>ุชูุฑูโูุง</span>
                </h2>

                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title">
                            <i class="fas fa-star"></i>
                            <span>ุชูุฑู ฑ: ููุงุด ูุงู</span>
                        </div>
                        <div class="difficulty-badge difficulty-easy">ุขุณุงู</div>
                    </div>

                    <div class="exercise-question">
                        ุจุฑูุงููโุง ุจููุณุฏ ฺฉู ูุงู ุดูุง ุฑุง ุจฺฏุฑุฏ ู ูพุงู ุฎูุดโุขูุฏ ุจุฏูุฏ.
                    </div>

                    <div class="exercise-actions">
                        <button class="hint-btn" onclick="toggleHint('hint1')">
                            <i class="fas fa-lightbulb"></i> ููุงุด ุฑุงูููุง
                        </button>
                        <button class="solution-btn" onclick="showSolution('solution1')">
                            <i class="fas fa-eye"></i> ูุดุงูุฏู ุฑุงูโุญู
                        </button>
                    </div>

                    <div class="exercise-hint" id="hint1">
                        <strong>ุฑุงูููุง:</strong> ุงุฒ ุชุงุจุน <code>input()</code> ุจุฑุง ฺฏุฑูุชู ูุฑูุฏ ุงุณุชูุงุฏู ฺฉูุฏ.
                    </div>

                    <div class="exercise-solution" id="solution1" style="display: none;">
                        <strong>ุฑุงูโุญู:</strong>
                        <pre><code>name = input("ูุงู ุดูุง ฺุณุชุ ")
print(f"ุณูุงู {name}!")</code></pre>
                    </div>
                </div>

                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title">
                            <i class="fas fa-star"></i>
                            <span>ุชูุฑู ฒ: ุฌูุน ุฏู ุนุฏุฏ</span>
                        </div>
                        <div class="difficulty-badge difficulty-medium">ูุชูุณุท</div>
                    </div>

                    <div class="exercise-question">
                        ุจุฑูุงููโุง ุจููุณุฏ ฺฉู ุฏู ุนุฏุฏ ุงุฒ ฺฉุงุฑุจุฑ ุจฺฏุฑุฏ ู ุญุงุตู ุฌูุน ุขูโูุง ุฑุง ููุงุด ุฏูุฏ.
                    </div>

                    <button class="hint-btn" onclick="toggleHint('hint2')">
                        <i class="fas fa-lightbulb"></i> ููุงุด ุฑุงูููุง
                    </button>

                    <div class="exercise-hint" id="hint2">
                        <strong>ุฑุงูููุง:</strong> ูุฑูุฏ ุฑุง ุจุง <code>int()</code> ุจู ุนุฏุฏ ุชุจุฏู ฺฉูุฏ.
                    </div>
                </div>
            </div>

            <!-- ูุญุชูุง ุชฺฉูู -->
            <div class="enhanced-section" id="enhanced-section">
                <h2 class="section-title">
                    <i class="fas fa-robot"></i>
                    <span>ูุญุชูุง ุชฺฉูู ุงุฒ DeepSeek</span>
                </h2>

                <div class="enhanced-content" id="enhanced-content">
                    <div class="enhanced-result">
                        <h3><i class="fas fa-robot"></i> ูฺฉุงุช ูพุดุฑูุชู:</h3>
                        <ul>
                            <li>ูพุงุชูู ุงุฒ ุชูุฑูุชฺฏ (indentation) ุจุฑุง ุชุนุฑู ุจููฺฉโูุง ฺฉุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ</li>
                            <li>ูุชุบุฑูุง ุฏุฑ ูพุงุชูู ูุงุฒ ุจู ุชุนู ููุน ูุฏุงุฑูุฏ (Dynamic Typing)</li>
                            <li>ูโุชูุงูุฏ ุงุฒ type hints ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ููุน ูุชุบุฑูุง ุงุณุชูุงุฏู ฺฉูุฏ</li>
                        </ul>

                        <h3><i class="fas fa-code"></i> ูุซุงู ุชฺฉูู:</h3>
                        <div class="code-block">
                            <div class="code-header">
                                <span>python</span>
                                <button class="copy-code-btn">
                                    <i class="fas fa-copy"></i> ฺฉูพ
                                </button>
                            </div>
                            <pre><code># ุจุฑุฑุณ ููุน ูุชุบุฑูุง
x = 10
y = "ุณูุงู"
z = [1, 2, 3]

print(f"ููุน x: {type(x)}")
print(f"ููุน y: {type(y)}")
print(f"ููุน z: {type(z)}")</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ูุงูุจุฑ ูพุงู -->
        <div class="lesson-nav">
            <button class="nav-btn" id="prev-btn" onclick="prevLesson()">
                <i class="fas fa-arrow-right"></i>
                <span>ุฏุฑุณ ูุจู</span>
            </button>

            <div class="nav-actions">
                <button class="action-btn small" onclick="requestEnhancedContent()">
                    <i class="fas fa-magic"></i>
                    <span>ูุญุชูุง ุจุดุชุฑ</span>
                </button>
            </div>

            <button class="nav-btn" id="next-btn" onclick="nextLesson()">
                <i class="fas fa-arrow-left"></i>
                <span>ุฏุฑุณ ุจุนุฏ</span>
            </button>
        </div>
    </div>

    <!-- JavaScript ุณุงุฏู -->
    <script>
        // ุชูุงุจุน ุณุงุฏู
        function toggleHint(hintId) {
            const hint = document.getElementById(hintId);
            hint.style.display = hint.style.display === 'block' ? 'none' : 'block';
        }

        function showSolution(solutionId) {
            const solution = document.getElementById(solutionId);
            solution.style.display = 'block';
        }

        function requestEnhancedContent() {
            const enhancedSection = document.getElementById('enhanced-section');
            enhancedSection.style.display = 'block';

            // ุงุณฺฉุฑูู ุจู ุจุฎุด ูุญุชูุง ุชฺฉูู
            enhancedSection.scrollIntoView({ behavior: 'smooth' });

            // ููุงุด ูพุงู
            showNotification('ูุญุชูุง ุชฺฉูู ููุงุด ุฏุงุฏู ุดุฏ', 'success');
        }

        function prevLesson() {
            const currentLesson = parseInt(document.getElementById('lesson-number').textContent.replace('ุฏุฑุณ ', ''));
            if (currentLesson > 1) {
                window.location.href = `/lesson/1/${currentLesson - 1}`;
            } else {
                showNotification('ุงู ุงููู ุฏุฑุณ ุงุณุช', 'info');
            }
        }

        function nextLesson() {
            const currentLesson = parseInt(document.getElementById('lesson-number').textContent.replace('ุฏุฑุณ ', ''));
            window.location.href = `/lesson/1/${currentLesson + 1}`;
        }

        function completeLesson() {
            const btn = document.getElementById('complete-btn');
            btn.innerHTML = '<i class="fas fa-check-circle"></i><span>ุชฺฉูู ุดุฏู</span>';
            btn.classList.add('completed');
            btn.disabled = true;

            // ุจูโุฑูุฒุฑุณุงู ูพุดุฑูุช
            document.getElementById('lesson-progress-fill').style.width = '100%';
            document.getElementById('progress-text').textContent = '100%';

            showNotification('๐ ุฏุฑุณ ุจุง ููููุช ุชฺฉูู ุดุฏ!', 'success');
        }

        function showNotification(message, type = 'info') {
            // ุงุฌุงุฏ notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 100px;
                right: 20px;
                left: 20px;
                background: ${type === 'success' ? '#4cc9f0' : '#4361ee'};
                color: white;
                padding: 15px;
                border-radius: 10px;
                z-index: 9999;
                text-align: center;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                animation: slideUp 0.3s ease;
            `;

            notification.innerHTML = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideDown 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ุฑุงูโุงูุฏุงุฒ ุงููู
        document.addEventListener('DOMContentLoaded', function () {
            // ุชูุธู ุฑูุฏุงุฏ ุฏฺฉูู ุชฺฉูู
            document.getElementById('complete-btn').addEventListener('click', completeLesson);

            // ุชูุธู ุฑูุฏุงุฏ ุฏฺฉููโูุง ฺฉูพ
            document.querySelectorAll('.copy-code-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const code = this.closest('.code-block').querySelector('code').textContent;
                    navigator.clipboard.writeText(code).then(() => {
                        const originalHTML = this.innerHTML;
                        this.innerHTML = '<i class="fas fa-check"></i> ฺฉูพ ุดุฏ!';
                        this.style.background = '#4cc9f0';

                        setTimeout(() => {
                            this.innerHTML = originalHTML;
                            this.style.background = '';
                        }, 2000);

                        showNotification('ฺฉุฏ ฺฉูพ ุดุฏ!', 'success');
                    });
                });
            });

            // ุงุถุงูู ฺฉุฑุฏู ุงุณุชุงู ุงููุดู
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideUp {
                    from { transform: translateY(100px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
                @keyframes slideDown {
                    from { transform: translateY(0); opacity: 1; }
                    to { transform: translateY(100px); opacity: 0; }
                }
            `;
            document.head.appendChild(style);

            // ุงุณุชุฎุฑุงุฌ ุงุทูุงุนุงุช ุงุฒ URL
            const path = window.location.pathname;
            const match = path.match(/\/lesson\/(\d+)\/(\d+)/);

            if (match) {
                const chapterId = match[1];
                const lessonId = match[2];

                document.getElementById('chapter-title').textContent = `ูุตู ${chapterId}`;
                document.getElementById('lesson-number').textContent = `ุฏุฑุณ ${lessonId}`;
                document.getElementById('lesson-title').textContent = `ุฏุฑุณ ${lessonId}: ุขููุฒุด ูพุงุชูู`;

                console.log(`๐ Lesson ${chapterId}.${lessonId} loaded`);
            }
        });

        // ูุงูุงุช ฺฉุฏูุง ููุช ุตูุญู ููุฏ ุดุฏ
        document.addEventListener('DOMContentLoaded', function () {
            // ูุงุฏุงุฎู pre
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });

            // ุง ููุท ฺฉุฏูุง ูพุงุชูู
            document.querySelectorAll('pre code.language-python').forEach((block) => {
                hljs.highlightElement(block);
            });
        });
    </script>


</body>

</html>